# å‰ç«¯ v2.0 DAG ä»»åŠ¡ç´¢å¼•

## æ¦‚è¿°

å‰ç«¯ v2.0 ä»»åŠ¡å…± **6 ä¸ªä»»åŠ¡**,åˆ†ä¸º **4 ä¸ªå±‚çº§**,é¢„è®¡æ€»å·¥æ—¶ **19 å°æ—¶**ã€‚

---

## ä»»åŠ¡åˆ—è¡¨

### Layer 1: çŠ¶æ€ç®¡ç† (å¯å¹¶è¡Œ)

| ä»»åŠ¡ ID | ä»»åŠ¡åç§° | å·¥æ—¶ | ä¾èµ– | çŠ¶æ€ |
|---------|---------|------|------|------|
| F-L1-T1 | æ‰©å±• Zustand Store | 3h | æ—  | ğŸ“‹ å¾…å¼€å§‹ |
| F-L1-T2 | æ‰©å±• WebSocket Client | 2h | æ—  | ğŸ“‹ å¾…å¼€å§‹ |

**ç›®æ ‡**: å®ç°ä¼˜åŒ–çŠ¶æ€ç®¡ç†å’Œ WebSocket æ¶ˆæ¯å¤„ç†

---

### Layer 2: åŸºç¡€ç»„ä»¶ (ä¾èµ– Layer 1)

| ä»»åŠ¡ ID | ä»»åŠ¡åç§° | å·¥æ—¶ | ä¾èµ– | çŠ¶æ€ |
|---------|---------|------|------|------|
| F-L2-T1 | å®ç° OptimizeButton ç»„ä»¶ | 2h | F-L1-T1 | ğŸ“‹ å¾…å¼€å§‹ |
| F-L2-T2 | å®ç° AgentProgress ç»„ä»¶ | 2h | æ—  | ğŸ“‹ å¾…å¼€å§‹ |

**ç›®æ ‡**: å®ç°è§¦å‘æŒ‰é’®å’Œè¿›åº¦æ¶ˆæ¯å±•ç¤ºç»„ä»¶

---

### Layer 3: æ ¸å¿ƒç»„ä»¶ (ä¾èµ– Layer 1, Layer 2)

| ä»»åŠ¡ ID | ä»»åŠ¡åç§° | å·¥æ—¶ | ä¾èµ– | çŠ¶æ€ |
|---------|---------|------|------|------|
| F-L3-T1 | å®ç° AIOutputArea ç»„ä»¶ | 4h | F-L1-T1, F-L1-T2, F-L2-T2 | ğŸ“‹ å¾…å¼€å§‹ |
| F-L3-T2 | å®ç° IntentReportModal ç»„ä»¶ | 4h | F-L1-T1, F-L1-T2 | ğŸ“‹ å¾…å¼€å§‹ |
| F-L3-T3 | å®ç° OptimizationResult ç»„ä»¶ | 3h | F-L1-T1 | ğŸ“‹ å¾…å¼€å§‹ |

**ç›®æ ‡**: å®ç° AI è¾“å‡ºåŒºã€æ„å›¾ç¡®è®¤å¼¹çª—ã€ä¼˜åŒ–ç»“æœå±•ç¤º

---

### Layer 4: é›†æˆä¸æ ·å¼ (ä¾èµ– Layer 3)

| ä»»åŠ¡ ID | ä»»åŠ¡åç§° | å·¥æ—¶ | ä¾èµ– | çŠ¶æ€ |
|---------|---------|------|------|------|
| F-L4-T1 | é›†æˆåˆ° Workspace ç»„ä»¶ | 2h | F-L3-T1, F-L3-T2, F-L3-T3 | ğŸ“‹ å¾…å¼€å§‹ |
| F-L4-T2 | æ ·å¼ä¼˜åŒ–å’ŒåŠ¨ç”» | 2h | F-L4-T1 | ğŸ“‹ å¾…å¼€å§‹ |

**ç›®æ ‡**: é›†æˆæ‰€æœ‰ v2 ç»„ä»¶åˆ° v1.x UI,ç¡®ä¿å‘åå…¼å®¹

---

## ä»»åŠ¡è¯¦ç»†æ–‡æ¡£

### Layer 1

- [F-L1-T1: æ‰©å±• Zustand Store](./layer1-task1-zustand-store.md)
- [F-L1-T2: æ‰©å±• WebSocket Client](./layer1-task2-websocket-client.md)

### Layer 2

- [F-L2-T1: å®ç° OptimizeButton ç»„ä»¶](./layer2-task1-optimize-button.md)
- [F-L2-T2: å®ç° AgentProgress ç»„ä»¶](./layer2-task2-agent-progress.md)

### Layer 3

- [F-L3-T1: å®ç° AIOutputArea ç»„ä»¶](./layer3-task1-ai-output-area.md)
- [F-L3-T2: å®ç° IntentReportModal ç»„ä»¶](./layer3-task2-intent-modal.md)
- [F-L3-T3: å®ç° OptimizationResult ç»„ä»¶](./layer3-task3-optimization-result.md)

### Layer 4

- [F-L4-T1: é›†æˆåˆ° Workspace ç»„ä»¶](./layer4-task1-workspace-integration.md)
- [F-L4-T2: æ ·å¼ä¼˜åŒ–å’ŒåŠ¨ç”»](./layer4-task2-styling.md)

---

## ä¾èµ–å…³ç³»å›¾

```
Layer 1 (å¯å¹¶è¡Œ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  F-L1-T1         â”‚    â”‚  F-L1-T2         â”‚
â”‚  Zustand Store   â”‚    â”‚  WebSocket       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚
Layer 2  â†“                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  F-L2-T1         â”‚    â”‚  F-L2-T2         â”‚
â”‚  OptimizeButton  â”‚    â”‚  AgentProgress   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚                â”‚
Layer 3  â†“                   â†“                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  F-L3-T1     â”‚  â”‚  F-L3-T2     â”‚  â”‚  F-L3-T3     â”‚
â”‚  OutputArea  â”‚  â”‚  Modal       â”‚  â”‚  Result      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
Layer 4         â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  F-L4-T1         â”‚
       â”‚  Integration     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  F-L4-T2         â”‚
       â”‚  Styling         â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¼€å‘å»ºè®®

### æ¨èé¡ºåº

1. **Week 1**: å®Œæˆ Layer 1 (çŠ¶æ€ç®¡ç†)
2. **Week 2**: å®Œæˆ Layer 2-3 (ç»„ä»¶å¼€å‘)
3. **Week 3**: å®Œæˆ Layer 4 (é›†æˆå’Œæ ·å¼)

### æµ‹è¯•ç­–ç•¥

- **Layer 1**: å•å…ƒæµ‹è¯• (Store actions, WebSocket handlers)
- **Layer 2-3**: ç»„ä»¶æµ‹è¯• (React Testing Library)
- **Layer 4**: é›†æˆæµ‹è¯• (E2E with Playwright/Cypress)

---

## å‚è€ƒæ–‡æ¡£

- **å‰ç«¯æ¶æ„**: `../v2-frontend-architecture.md`
- **WebSocket åè®®**: `../v2-websocket-protocol.md`
- **åç«¯ API**: `../v2-api-design.md`
